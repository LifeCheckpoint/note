<!DOCTYPE html>
<html lang="zh-cn">

<head>

<title>映射</title>
<meta charset="utf-8" />

<link rel="stylesheet" type="text/css" href="../css/math.css" />

</head>

<body>

<h2>映射的概念</h2>

<ol class="definition enum">
	<li>设集合 `X, Y != O/`, 考虑从 `X` 到 `Y` 的对应法则 `f`,
		如果对任意 `x in X`, 根据法则 `f` 都<b>存在唯一</b>的
		`y in Y` 与之对应, 则称 `f` 为 `X` 到 `Y` 的一个<b>映射</b>,
		记为 `f: X to Y`.
	</li>
	<li>若 `f` 把 `x in X` 映到 `y in Y`,
		则称 `y` 为 `x` 在 `f` 下的<b>像</b>或<b>像点</b>, 记为 `y =
		f(x)`; `x` 称为 `y` 在 `f` 下的一个<b>原像</b>.
	</li>
	<li>称一个映射是<b>良定义</b>的, 如果上述的存在唯一性被满足, 即
	<ol>
		<li>`(AA x in X)` `(EE y in Y)` `y = f(x)`;</li>
		<li>`x_1 = x_2 rArr f(x_1) = f(x_2)`.</li>
	</ol>
	</li>
	<li>设 `f` 和 `g` 都是 `X` 到 `Y` 的映射, 称 `f` 与 `g` <b>相等</b>,
		如果对任意 `x in X`, `f(x) = g(x)`.
	</li>
</ol>

<h2>像, 核</h2>

<ol class="definition">
	设 `f: X to Y`, `A sube X`, `B sube Y`.
	<li>称
		<span class="formula">
			`f(A) := {f(x): x in A} = {y in Y: (EE x in A)\ y = f(x)}
			sube Y`
		</span>
		为 `A` 在 `f` 下的<b>像</b>或<b>像集</b>.
		约定 `f(O/) = O/`.
		特别 `f(X)` 也记为 `"Im" f`, 称为 `f` 的<b>像</b>.
	</li>
	<li>称
		<span class="formula">
			`f^-1(B) = {x in X: f(x) in B} sube X`
		</span>
		为 `B` 在 `f` 下的<b>原像</b>或<b>原像集</b>或<b>完全原像</b>.
		简记 `f^-1({y}) = f^-1(y)`.
	</li>
</ol>

<p class="property">
	<span class="formula">
		`A_1 sube A_2 rArr f(A_1) sube f(A_2)`,<br/>
		`B_1 sube B_2 rArr f^-1(B_1) sube f^-1(B_2)`,<br/>
		`f(uuu_(alpha in I) A_alpha) = uuu_(alpha in I) f(A_alpha)`,<br/>
		`f(nnn_(alpha in I) A_alpha) sube nnn_(alpha in I) f(A_alpha)`,
		<br/>
		`f^-1(uuu_(alpha in I) B_alpha) = uuu_(alpha in I) f^-1(B_alpha)`,
		<br/>
		`f^-1(nnn_(alpha in I) B_alpha) = nnn_(alpha in I) f^-1(B_alpha)`,
		<br/>
		`f^-1(B_1\\B_2) = f^-1(B_1)\\f^-1(B_2)`,<br/>
		`f^-1(Y\\B) = X\\f^-1(B)`.
	</span>
</p>

<p class="definition">
	设 `f: X to Y`, 定义 `f` 的<b>核</b>
	<span class="formula">
		`"Ker" f = {(x_1, x_2) in X xx X: f(x_1) = f(x_2)}`.
	</span>
	换言之, `(x_1, x_2) in "Ker" f iff f(x_1) = f(x_2)`.
	容易验证 `"Ker" f` 构成 `X` 上的一个等价关系.
</p>

<h2>复合, 限制, 恒等映射</h2>

<p class="definition">
	设 `f: X to Y`, `g: Y to Z`. 称由
	<span class="formula">
		`h(x) = g(f(x))`
	</span>
	定义的 `h: X to Z` 为 `f` 与 `g` 的<b>复合映射</b>, 记为 `h = g@f`.
	映射的复合满足结合律.
</p>

<p class="definition">
	定义集合 `X` 到自身的<b>恒等映射</b>或<b>恒同映射</b>为
	<span class="formula">
		`1_X: X to X`<br>
		`x to x`.
	</span>
	恒等映射保持每一点不变.<br/>
	容易验证,
	`(AA f: X to Y)` `f = f @ 1_X = 1_Y @ f`;
	`"Im" 1_X = X`, `"Ker" 1_X = iota_X`
	(`X` 上最小的等价关系, 每个元素只和自身等价).
</p>

<p class="definition">
	设 `f: X to Y`, `A sube X`. 定义映射 `f` 在子集 `A`
	上的<b>限制</b>为
	<span class="formula">
		`f|{::}_A: A to Y`<br/>
		`x to f(x)`.
	</span>
	容易验证 `f|{::}_A = f @ 1_X|_A`, 其中 `1_X|_A` 称为<b>包含映射</b>.
</p>

<h2>满射, 单射, 双射</h2>

<ol class="definition">
	设 `f: X to Y`.
	<li>如果对任意 `y in Y`, 都存在 `x in X`, 使得 `y = f(x)`,
		则称 `f` 是<b>满射</b>;
	</li>
	<li>如果由 `f(x_1) = f(x_2)` 蕴含 `x_1 = x_2`,
		则称 `f` 是<b>单射</b>;
	</li>
	<li>如果 `f` 既是单射又是满射, 则称 `f` 是<b>双射</b>;
	</li>
</ol>

<ol class="theorem enum">
	设 `f: X to Y`.
	<li>以下各款等价:
		<ol>
			<li>`f` 为一满射;</li>
			<li>`"Im" f = Y`;</li>
			<li>`(AA y in Y)` `|f^-1(y)| ge 1`;</li>
			<li>存在 `g: Y to  X`, 使 `f @ g = 1_Y`.</li>
		</ol>
	</li>
	<li>以下各款等价:
		<ol>
			<li>`f` 为一单射;</li>
			<li>`"Ker" f = iota_X`;</li>
			<li>`(AA y in Y)` `|f^-1(y)| le 1`;</li>
			<li>存在 `g: Y to X`, 使 `g @ f = 1_X`.<br/>
		</ol>
	</li>
	<li>以下各款等价:
		<ol>
			<li>`f` 为一双射;</li>
			<li>`(AA y in Y)`, `|f^-1(y)| = 1`;</li>
			<li>存在 `g: Y to X`, `g @ f = 1_X`, `f @ g = 1_B`.</li>
		</ol>
	</li>
</ol>

<p class="definition">
	`f` 为双射时, 对任意 `y in Y`, 存在唯一 `x in X` 使 `y = f(x)`
	(其存在性由满射保证, 唯一性由单射保证), 把这一对应关系记为 `f^-1`,
	则 `f^-1` 是一个映射, 称为 `f` 的<b>逆</b>.
</p>

<p class="theorem">
	关于象集, 原象集和单射, 满射的关系, 我们有 (设 A, B 分别为 X, Y
	的真子集):
	<span class="formula">
		`f(f^-1(B)) sube B`, 等号成立当且仅当 `f` 为满射;<br/>
		`f^-1(f(A)) supe A`, 等号成立当且仅当 `f` 为单射.
	</span>
</p>

<h2>特征函数</h2>

<p>	设 `f: X to  Y`. 当 `Y = X` 时, 又称 `f` 为 `X` 上的<b>变换</b>.
	当 `Y = RR` 时, 一般称 `f` 为<b>函数</b>.
</p>

<p class="definition">
	设 `A sube X`, 定义<b>特征函数</b> `chi_A: X to  {0, 1}` 如下:
	<span class="formula">
		`chi_A(x) = {
			(1, if x in A),
			(0, if x in X\\A)
	:}`</span>
	一定意义上特征函数可以代表集合 A 本身. 如
	<span class="formula">
		`A = B iff chi_A = chi_B`,<br/>
		`A sube B iff chi_A le chi_B`.
	</span>
	关于特征函数与集合运算之间的联系, 我们有
	<span class="formula">
		`chi_(A^C)(x) = 1 - chi_A(x)`<br/>
		`chi_(A nn B)(x) = chi_A(x) * chi_B(x)`<br/>
		`chi_(A \\ B)(x) = chi_A(x)(1 - chi_B(x))`<br/>
		`chi_(A uu B)(x) = chi_A(x) + chi_B(x) - chi_A(x) * chi_B(x)`<br/>
		`chi_(A /_\ B)(x) = |chi_A(x) - chi_B(x)|`
	</span>
</p>

<h2>集合的基数</h2>

<p class="theorem" id="the-isb-map-exist">
	<b>鸽巢原理</b>
	设 `X, Y != O/` 为有限集,
	则存在 `X to Y` 的单射的充要条件是 `|X| le |Y|`,
	存在 `X to Y` 的满射的充要条件是 `|X| ge |Y|`;
	因此, 存在 `X to Y` 的双射的充要条件是 `|X| = |Y|`.
</p>

<p class="proof">
	我们只证明单射的情形, 满射的证明类似.
	设 `X = {x_1, x_2, cdots, x_m}`, `Y = {y_1, y_2, cdots, y_n}`,
	则 `|X| = m`, `|Y| = n`.
	<br/>
	充分性: 当 `m le n` 时, 显然 `f(x_i) = y_i`, `i = 1, 2, cdots, m`
	是 `X` 到 `Y` 的单射.
	<br/>
	必要性: 若 `f: X to Y` 是单射, 对每个 `y_i in Y`,
	考虑原像集 `f^-1(y_i)`, 有 `|f^-1(y_i)| le 1`.
	注意到 `X` 是各 `f^-1(y_i)` 的不交并, 由加法原理,
	<span class="formula">
		` |X|
		= |uuu_(i=1)^n f^-1(y_i)|
		= sum_(i=1)^n |f^-1(y_i)|
		le n`.
	</span>
</p>

<p class="theorem">
	设 `X, Y != O/` 为有限集, 且 `|X| = |Y|`. 若 `f: X to Y`, 则
	`f` 是单射当且仅当 `f` 是满射, 从而当且仅当 `f` 是双射.
</p>

<ol class="proof">
	<li>设 `f` 不是满射,
		由定义, 存在 `y in Y`, 对任意 `x in X`, `f(x) != y`.
		所以 `f` 也是从 `X` 到 `Y\\{y}` 的映射.
		但 `|Y\\{y}| lt |Y| = |X|`, 所以由<a class="ref"
			href="#the-isb-map-exist"></a>, `f` 不是单射.
	</li>
	<li>设 `f` 不是单射, 则存在 `x_1, x_2 in X`, `x_1 != x_2`,
		`f(x_1) = f(x_2)`.
		所以 `f` 限制在 `X\\{x_1}` 上是 `X\\{x_1}` 到 `Y` 的映射.
		但 `|X\\{x_1}| lt |X| = |Y|`,
		所以由<a class="ref" href="#the-isb-map-exist"></a>,
		`f` 限制在 `X\\{x_1}` 上不是满射,
		即存在 `y in Y`, 对任意 `x in X\\{x_1}`, `f(x) != y`.
		因为 `x_2 in X\\{x_1}`,
		所以 `f(x_1) = f(x_2) != y`.
		因而 `f` 不是满射.
	</li>
</ol>

</body>

<script src="../js/main.js"></script>

</html>
